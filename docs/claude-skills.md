<!-- Generated by Graft | model=bedrock-claude-v4.5-sonnet-us | sig=0a9743427c3d16b04fc9343c112b02a70397d04a487803d7830ac6f3455993e8 | rev=4b99e8d | 2025-11-04 -->
# Claude Skills in Graft

Graft integrates with Claude's **skills** system—capabilities that Claude can invoke contextually when they're relevant to your conversation. Unlike slash commands that you explicitly trigger, skills activate automatically when Claude recognizes an opportunity to help.

Learn more about [Claude Skills in the official documentation](https://docs.anthropic.com/claude/docs/skills).

## The Steward Skill

The **steward skill** helps you design and manage Graft's documentation system. When you describe documentation goals, challenges, or questions about your project structure, Claude can invoke the steward to:

- Analyze your current documentation architecture
- Suggest information structures that match your needs
- Show you what will regenerate when you make changes
- Help you craft effective prompt instructions
- Validate your documentation design decisions

You don't need to memorize commands or syntax. Just describe what you're trying to accomplish, and the steward will activate when it can help.

## Working with Design Problems

The real power of the steward emerges when you're wrestling with documentation challenges. Here's what that looks like in practice:

### From Vague Goal to Information Architecture

**You:** "I need to document our deployment process. It's kind of complicated because we have different paths for different environments, and honestly I'm not sure how to organize it."

**Claude:** "Let me understand what you're working with. Are these deployment paths completely different procedures, or variations on a common workflow? And who's the primary audience—are they learning the system for the first time, or referencing steps they mostly know?"

**You:** "Good question. It's variations on the same core workflow—build, test, deploy—but production has extra approval gates and staging can be fast-tracked. The audience is our ops team who knows the basics but needs the specifics for each environment."

**Claude:** "That context helps a lot. Since your audience knows the fundamentals and you have a shared workflow with environment-specific variations, I'd suggest structuring this as:

1. A **deployment-overview.md** that explains the common workflow and decision points
2. Environment-specific guides (**deploy-production.md**, **deploy-staging.md**, **deploy-development.md**) that reference the overview but focus on their unique requirements
3. Each guide could have a quick-reference section at the top for experienced users

This way, someone new gets the full picture from the overview, while someone just checking production approval requirements can jump straight to that section. Want me to help you set this up?"

**You:** "Yes, but I'm worried the overview might duplicate what's in the environment guides."

**Claude:** "Great instinct. Let's make the overview focus on *decisions and concepts*—when do you choose each environment, what are the approval requirements, what can go wrong—while the environment guides are *procedural*—specific commands, configurations, and steps. The overview answers 'why and when,' the guides answer 'how exactly.'"

**You:** "Perfect. Let's start with the overview. I want it to cover the decision tree for which environment to use."

**Claude:** "Let me invoke the steward to help us structure this..."

*[Claude uses the steward to create a new source file with prompt instructions focused on decision-making, then generates deployment-overview.md with clear sections on environment selection criteria, common workflow phases, and links to detailed guides]*

**You:** "This is good, but the 'approval requirements' section is too brief. Can we expand that?"

**Claude:** "Absolutely. Let's refine the prompt instructions to emphasize approval workflows..."

*[Iterative refinement continues, gradually building out the exact structure and detail level needed]*

### Refining Through Iteration

**You:** "We have API documentation that's written for our internal developers, but we're about to open-source the project. I need to adapt it for external contributors who won't have our context."

**Claude:** "Let me check what you have currently..."

*[Claude examines the existing documentation structure]*

**Claude:** "I see your API docs assume familiarity with your internal service architecture—lots of references to 'the auth service' and 'standard error patterns' without explanation. For external contributors, we should make these concepts explicit. 

Would you want to:
1. Keep the current docs and add a separate 'external contributor' version
2. Rewrite the existing docs to work for both audiences
3. Add a 'concepts' layer that external folks read first, keeping the API reference as-is"

**You:** "Option 3 feels right. The API reference is actually pretty good if you understand our patterns."

**Claude:** "Okay. So we'd add something like **api-concepts.md** that explains your authentication approach, error handling patterns, and service architecture assumptions. Then the existing API reference stays technical and precise, but now it has prerequisites. Let me look at your current prompts..."

*[Claude uses the steward to analyze existing prompt instructions]*

**Claude:** "Your current API documentation is generated from source files in `docs/api/` with prompts focused on technical accuracy and completeness. The prompts say 'assume reader familiarity with the platform.' 

Here's what I'd suggest:
1. Leave those prompts mostly unchanged—just add a header reference to the new concepts doc
2. Create a new source for **api-concepts.md** with prompts that focus on explaining architectural decisions, not just describing them
3. The concepts doc should answer questions like 'why this auth pattern?' not just 'what is the auth pattern?'

Want to see what the new prompt instructions might look like?"

**You:** "Yes, show me."

*[Claude drafts prompt instructions emphasizing conceptual explanation and architectural rationale, shows you the draft]*

**You:** "This is close, but 'architectural rationale' might get too deep into history. I want to explain the patterns, not justify every decision we made."

**Claude:** "Good distinction. Let's adjust to focus on 'how the pattern works and when to use it' rather than 'why we chose it.' More practical, less historical..."

*[Refinement continues until the prompt instructions capture exactly the right focus]*

### Understanding Impact

**You:** "I want to rename 'installation.md' to 'getting-started.md' because it covers more than just installation now. But I'm worried about what else might break."

**Claude:** "Smart to check first. Let me use the steward to analyze the impact..."

*[Claude invokes the steward to check for references and dependencies]*

**Claude:** "Here's what would be affected:

**Will regenerate:**
- **project-overview.md** (references installation.md in its 'Next Steps' section)
- **contributing.md** (links to installation instructions)
- The navigation structure (if you're using section indices)

**Won't regenerate:**
- **deployment.md** (it links to 'setting up your environment' conceptually but not to the specific file)
- Any of the API documentation

The regeneration will happen automatically when you run `bin/graft design` with the renamed source file. The links will update to point to 'getting-started.md'. 

Do you want to rename just the output file, or the source file too?"

**You:** "What's the difference?"

**Claude:** "If you rename just the output file (in the prompt instructions), the source stays as `installation.md` but generates `getting-started.md`. That can be confusing later. If you rename the source file itself and update the prompt, everything stays aligned. I'd recommend renaming both."

**You:** "Makes sense. Will the content need to change, or is this just a rename?"

**Claude:** "Just a rename at the file level, but you might want to review the prompt instructions. If the document now covers more than installation, the prompts might still be scoped too narrowly. Want me to check?"

*[Claude examines the current prompt instructions]*

**Claude:** "Yeah, your current prompt says 'focus on installation steps and initial setup.' If the document now includes first-run configuration, basic usage, and troubleshooting, we should update the prompt to match. Otherwise, the next regeneration might drop that expanded content."

**You:** "Oh, good catch. Let's update the prompt to say it covers 'initial setup through first successful run.'"

*[They refine the prompt instructions together, then rename the file]*

### Discovering Structure Through Exploration

**You:** "I have this pile of notes about our testing approach—unit tests, integration tests, E2E tests, CI configuration, coverage requirements, when to mock things... it's all jumbled. I need to turn it into documentation but I don't know how to organize it."

**Claude:** "Let's explore the structure together. Can you show me the notes, or describe what topics keep coming up?"

**You:** "Here's the file..."

*[You share a large, unstructured notes document]*

**Claude:** "I see recurring themes here:

1. **Testing philosophy** (when to write tests, what to test, mocking principles)
2. **Practical mechanics** (how to run tests, how to write them, what tools to use)
3. **CI/CD integration** (how tests run in automation, what gates exist)
4. **Debugging and troubleshooting** (interpreting failures, common issues)

These feel like different *purposes*—someone trying to understand your testing culture needs #1, someone writing their first test needs #2, someone debugging a CI failure needs #4. Does that match how people actually use this information?"

**You:** "Yes, exactly. New contributors always ask 'do I need to test this?' while experienced folks are usually debugging flaky tests in CI."

**Claude:** "So different audiences with different entry points. Here's one way to structure it:

- **testing-philosophy.md**: High-level guide to testing culture, when/what/why to test, mocking principles
- **writing-tests.md**: Practical how-to for writing unit, integration, and E2E tests
- **testing-in-ci.md**: How the CI system runs tests, what failures mean, how to reproduce locally
- **troubleshooting-tests.md**: Common issues and debugging approaches

But I'm also seeing another pattern in your notes—you have really specific guidance for different *types* of tests. Would it make sense to split 'writing-tests.md' into separate guides per test type?"

**You:** "Maybe? I'm not sure. What would that look like?"

**Claude:** "You could have:

- **unit-testing.md**
- **integration-testing.md**  
- **e2e-testing.md**

Each with setup, examples, and best practices. Then **testing-philosophy.md** explains when to use each type, and links to the detailed guides. The advantage is focused, scannable docs. The disadvantage is more files to maintain."

**You:** "I think I like one **writing-tests.md** with clear sections per type. Our test types aren't that different from each other—they use the same tools, just different scopes."

**Claude:** "That makes sense given your tooling. Let's go with the four-document structure then. Want to start with the philosophy doc? I can help you extract the relevant concepts from your notes and turn them into a source file with prompt instructions."

**You:** "Yes, let's do that. But I want the philosophy doc to be opinionated—I want it to say 'we value X over Y' not just 'here are some approaches.'"

**Claude:** "Perfect. Let me invoke the steward to help us create that source file..."

*[Claude creates a source file structure, writes prompt instructions that emphasize opinionated guidance, and helps extract the philosophy content from the notes]*

**You:** "This is great. Now I can see the structure. Let's do the practical guide next, but I want to make sure it references the philosophy doc for the 'why' behind each practice."

*[They continue iteratively building out the documentation structure, discovering refinements as they go]*

### Building a Navigation System

**You:** "I have about 20 documentation files now, and I feel like people are getting lost. I need some kind of navigation or index."

**Claude:** "Let's think about how people actually navigate. Are they:
1. Following a learning path (start here, then read this, then this)
2. Jumping to specific topics (I need to know about authentication)
3. Browsing to discover what exists"

**You:** "Probably all three, depending on whether they're new or experienced."

**Claude:** "Okay, so we might need multiple navigation aids. Let me use the steward to look at your current structure..."

*[Claude analyzes the existing documentation]*

**Claude:** "I see a few natural groupings:

- **Getting Started**: project-overview, getting-started, first-contribution
- **Development**: testing-philosophy, writing-tests, code-style, git-workflow  
- **Deployment**: deployment-overview, deploy-production, deploy-staging
- **API Reference**: api-concepts, api-authentication, api-endpoints
- **Troubleshooting**: troubleshooting-tests, common-errors, debugging

You could create section index files—one for each grouping—that provide curated entry points and learning paths. Then **project-overview.md** becomes the top-level map that links to each section index."

**You:** "I like that, but I don't want to maintain the indices manually every time I add a doc."

**Claude:** "The indices would be generated documents too. You'd create source files with prompt instructions that say 'this section covers development topics' and list the key documents. When you add a new development doc, you update the development index source to include it, and Graft regenerates the index."

**You:** "So the indices are documentation about the documentation?"

**Claude:** "Exactly. They're curated navigation aids. Want to start with the 'Getting Started' index?"

*[They design the index structure and prompt instructions together]*

## Working with the Steward

The steward excels at helping you think through documentation design problems. It's most useful when you:

- **Need structure but aren't sure what fits**: Describe your raw materials and goals conversationally, explore options together
- **Want to understand impact**: Before making changes, ask what will regenerate and what dependencies exist
- **Are crafting prompt instructions**: Work iteratively to refine instructions until they capture exactly what you need
- **Need validation**: Check if your proposed structure makes sense, or if you're missing important considerations
- **Want to understand behavior**: Ask questions about how Graft's regeneration works, what's tracked, what's derived

The steward won't make decisions for you—it helps you think through the tradeoffs and arrive at solutions that match your needs.

### The Conversational Approach

Treat working with the steward like a design conversation with a colleague:

- Start with your goal, even if it's vague
- Ask questions when you're uncertain
- Explore alternatives before committing
- Iterate on solutions as you learn what works
- Course-correct when something doesn't feel right

You don't need to arrive with a perfect plan. The process of describing your problem and exploring options is how you discover the right structure.

## Getting Started

1. Open Claude Code in your Graft repository
2. Describe what you're trying to document or what problem you're facing
3. Let the conversation unfold naturally—Claude will invoke the steward when it can help

You might say:
- "I need to document our API authentication, but I'm not sure if it should be one document or several"
- "Can you show me what would regenerate if I renamed this file?"
- "I have all these scattered notes about deployment—help me figure out how to organize them"
- "I want to change the tone of our getting-started guide to be more friendly"

The steward works best when you embrace exploration. You don't need to know exactly what you want—you just need to know roughly what you're trying to accomplish.

## Learn More

- **[Project Overview](project-overview.md)**: Understand how Graft works and its core concepts
- **[Documentation Workflow](documentation-workflow.md)**: Learn the practical mechanics of designing and regenerating documentation
- **[Claude Skills Documentation](https://docs.anthropic.com/claude/docs/skills)**: Deep dive into how Claude Skills work
