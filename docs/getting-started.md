<!-- Generated by Graft | model=bedrock-claude-v4.5-sonnet-us | sig=59cffe17ed1758533d374a275d75388f6a39a920d73627360f323f7a6a679956 | rev=4b99e8d | 2025-11-04 -->
# Getting Started

Graft is an LLM-powered documentation pipeline that automatically maintains your documents using declarative prompts and dependency tracking.

## Prerequisites

Before you begin, ensure you have:

- **Docker** installed and running
- **AWS credentials** with access to Amazon Bedrock
- **Claude Sonnet 4.5** enabled in your AWS Bedrock console (model ID: `anthropic.claude-3-5-sonnet-20241022-v2:0`)
- **Git** for cloning the repository

## Installation

### Build Graft

First, clone the Graft repository and build the Docker image:

```bash
git clone https://github.com/yourusername/graft.git
cd graft
make build
```

This creates a `graft:local` Docker image with all dependencies pre-installed.

### Set Up Your Project

Graft needs AWS credentials to access Bedrock. You have two options:

**Option 1: Mount your host AWS credentials (recommended)**

If you already use AWS CLI with SSO or profiles, Graft automatically mounts your `~/.aws` directory. Just make sure you're logged in:

```bash
aws sso login --profile your-profile
```

Then set your profile in `.env`:

```bash
cp .env.example .env
```

Edit `.env` and set:

```
AWS_PROFILE=your-profile
AWS_REGION=us-east-1
AWS_DEFAULT_REGION=us-east-1
```

**Option 2: Use explicit credentials in .env**

If you prefer to use direct credentials, uncomment and set these variables in `.env`:

```
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_DEFAULT_REGION=us-east-1
```

### Initialize Graft

Now initialize DVC (the pipeline engine) in your project:

```bash
bin/graft init
```

This creates a `.dvc` directory and prepares your workspace. You're now ready to create your first document.

## Create Your First Document

Let's create a product launch announcement that stays in sync with your product roadmap.

### Scaffold a new prompt

Create a new document prompt in the `strategy` topic area:

```bash
bin/graft new launch-announcement strategy
```

This generates `docs/strategy/launch-announcement.prompt.md` with a basic template.

### Add dependencies and instructions

Open `docs/strategy/launch-announcement.prompt.md` in your editor. You'll see this template:

```markdown
---
# Optional: override the model (default: bedrock-claude-v4.5-sonnet-us)
# model: bedrock-claude-v4.5-sonnet-us
deps:
  - docs/strategy/foundations.md
---
# Launch_announcement â€” Prompt
Write clear, concise strategic content. Edit only where source diffs imply semantic change.
```

Update it to depend on your product roadmap and specify what you want:

```markdown
---
deps:
  - docs/product/roadmap.md
  - docs/product/features.md
---
# Launch Announcement â€” Prompt

Write an exciting product launch announcement for our Q1 release. The announcement should:

- Open with a compelling hook that highlights the customer problem we're solving
- Introduce the 3 major features from the roadmap with customer benefits
- Include a clear call-to-action for early access signup
- Use an enthusiastic but professional tone
- Keep it under 500 words

Target audience: B2B SaaS product managers and engineering leaders.
```

**Note:** For this example to work, you'll need to create the dependency files first. Create `docs/product/roadmap.md` with your actual roadmap content, or use any existing markdown files you have.

### Generate the document

Run the pipeline to generate your announcement:

```bash
bin/graft rebuild
```

You'll see:

```
ðŸ”§ Generating dvc.yaml from prompt files...
ðŸ“‹ Pipeline has 1 stage(s) to run

ðŸš€ Running DVC pipeline with 8 concurrent jobs...
Running stage 'launch_announcement':
> python3 scripts/process_prompt.py ...
âœ… Done.
```

Graft creates `docs/strategy/launch-announcement.md` with your generated content.

## Review and Iterate

Open the generated document:

```bash
cat docs/strategy/launch-announcement.md
```

You now have two ways to refine your document:

**Update source content** (e.g., add a feature to `roadmap.md`)

When you edit a dependency file, Graft detects the change and shows the AI only what changed. The AI performs a surgical UPDATE, preserving tone and structure while incorporating the new information:

```bash
# Edit your roadmap
vim docs/product/roadmap.md

# Regenerate - only changed sections are updated
bin/graft rebuild
```

**Refine the prompt instructions** (e.g., change tone or structure)

When you edit the `.prompt.md` file itself, Graft regenerates the entire document from scratch with the new instructions:

```bash
# Change your prompt instructions
vim docs/strategy/launch-announcement.prompt.md

# Regenerate - full document rewrite
bin/graft rebuild
```

The system automatically detects what changed and takes the appropriate action. You don't need to tell it which mode to use.

## Next Steps

You've now created a document that automatically stays in sync with its sources. Here's where to go next:

- **[Use Cases](use-cases.md)** â€” See practical examples of what you can build with Graft (read this next for inspiration)
- **[How It Works](how-it-works.md)** â€” Understand the change detection system and pipeline mechanics
- **[Configuration](configuration.md)** â€” Learn about model selection, custom parameters, and advanced options
- **[Command Reference](command-reference.md)** â€” Complete guide to all `bin/graft` commands

Start with Use Cases to see the full potential of what you've just built, then dive into How It Works when you're ready to understand the system more deeply.
